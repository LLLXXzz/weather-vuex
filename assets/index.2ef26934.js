var $=Object.defineProperty,w=Object.defineProperties;var W=Object.getOwnPropertyDescriptors;var d=Object.getOwnPropertySymbols;var S=Object.prototype.hasOwnProperty,b=Object.prototype.propertyIsEnumerable;var f=(e,t,s)=>t in e?$(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,l=(e,t)=>{for(var s in t||(t={}))S.call(t,s)&&f(e,s,t[s]);if(d)for(var s of d(t))b.call(t,s)&&f(e,s,t[s]);return e},m=(e,t)=>w(e,W(t));import{c as k,o as u,a as h,b as c,t as i,F as _,m as x,d as A,e as C,f as L,r as g,g as v,h as N}from"./vendor.3de13547.js";const O=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerpolicy&&(a.referrerPolicy=r.referrerpolicy),r.crossorigin==="use-credentials"?a.credentials="include":r.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(r){if(r.ep)return;r.ep=!0;const a=s(r);fetch(r.href,a)}};O();var D=k({state:{search:"",weather:{}},getters:{searchText(e){return e.search+"\u5E02"}},mutations:{setSearch(e,t){e.search=t},setWeather(e,t){e.weather=t}},actions:{async getWeather({commit:e,state:t},s){console.log("getWeather"),e("setWeather",{});let r=await(await fetch("//api2.jirengu.com/getWeather.php?city="+t.search)).json();console.log(r),e("setWeather",r.result.now)}}}),p=(e,t)=>{const s=e.__vccOpts||e;for(const[n,r]of t)s[n]=r;return s};const T={methods:{onChange(e){this.$store.commit("setSearch",e.target.value),this.$store.dispatch("getWeather",e.target.value)}}},j=["value"];function B(e,t,s,n,r,a){return u(),h(_,null,[c("input",{type:"text",value:e.$store.state.search,onInput:t[0]||(t[0]=(...o)=>a.onChange&&a.onChange(...o))},null,40,j),c("span",null,"\u57CE\u5E02: "+i(e.$store.getters.searchText),1)],64)}var F=p(T,[["render",B]]);const E={computed:l(l({},x(["search","weather"])),A(["searchText"])),methods:m(l(l({},C(["setSearch"])),L(["getWeather"])),{setDefault(){this.setSearch("\u6D4E\u5357"),this.getWeather("\u6D4E\u5357")}})},I={class:"weather"};function M(e,t,s,n,r,a){return u(),h("div",I,[c("h2",null,i(e.searchText)+" \u5929\u6C14\u8BE6\u60C5",1),c("p",null,"\u5929\u6C14 "+i(e.weather.text),1),c("p",null,"\u4F53\u611F\u6E29\u5EA6 "+i(e.weather.feels_like),1),c("p",null,"\u98CE\u529B "+i(e.weather.wind_class),1),c("button",{onClick:t[0]||(t[0]=(...o)=>a.setDefault&&a.setDefault(...o))},"\u6D4E\u5357\u5929\u6C14")])}var P=p(E,[["render",M]]);const V={components:{Search:F,Weather:P}},q=c("h1",null,"\u5929\u6C14\u9884\u62A5",-1);function G(e,t,s,n,r,a){const o=g("Search"),y=g("Weather");return u(),h(_,null,[q,v(o),v(y)],64)}var K=p(V,[["render",G]]);window.app=N(K).use(D).mount("#app");
